/* ==========================================================================
   DASHBOARD WIDGET // 仪表板组件样式
   Theme: Retro Futurism / Cassette Futurism
   ========================================================================== */

/* --------------------------------------------------------------------------
   组件根容器 // 仪表板组件主容器
   -------------------------------------------------------------------------- */
.dashboard-widget-mission-widget {
  /* 使用全局背景色变量 */
  background: var(--color-white);
  /* 使用全局边框宽度变量 */
  border: var(--border-width) solid #ddd;
  border-radius: 4px; /* 特殊圆角值，不使用全局变量 */
  /* 使用全局阴影变量 */
  box-shadow: var(--shadow-light);
  padding: 0;
  flex: 1;
  display: flex;
  flex-direction: column;
  overflow: hidden;
  height: 100%;
  position: relative;
  transition: all 0.2s;
}

/* 组件悬停效果 */
.dashboard-widget-mission-widget:hover {
  transform: translateY(-2px);
  /* 使用全局阴影变量 */
  box-shadow: 4px 4px 6px rgba(0, 0, 0, 0.2);
}

/* --------------------------------------------------------------------------
   卡片头部 // 组件标题和配置按钮区域
   -------------------------------------------------------------------------- */
.dashboard-widget-card-header {
  padding: 12px 12px 0px 12px;
  background: transparent;
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 10px;
  min-height: 32px;
  border-bottom: none;
}

/* 警告状态头部 */
.dashboard-widget-card-header.dashboard-widget-alert-header .dashboard-widget-header-text {
  /* 使用全局品牌危险色变量 */
  color: var(--brand-danger);
}

/* --------------------------------------------------------------------------
   头部文字 // 组件标题文字
   -------------------------------------------------------------------------- */
.dashboard-widget-header-text {
  font-family: "Impact", "Arial Black", sans-serif;
  font-weight: 900;
  font-size: 20px;
  text-transform: uppercase;
  /* 使用全局颜色变量 */
  color: #222;
  letter-spacing: -0.5px;
}

/* 头部装饰（预留，当前未使用） */
.dashboard-widget-header-deco {
  display: none;
}

/* --------------------------------------------------------------------------
   组件内容区域 // 包含列表或图表内容
   -------------------------------------------------------------------------- */
.dashboard-widget-widget-content {
  flex: 1;
  overflow: hidden;
  display: flex;
  flex-direction: column;
  min-height: 0;
  background: transparent;
  padding: 0 12px 16px 12px;
}

/* ==========================================================================
   列表类型样式 // 任务列表相关样式
   ========================================================================== */

/* --------------------------------------------------------------------------
   列表容器 // 任务列表的滚动容器
   -------------------------------------------------------------------------- */
.dashboard-widget-list-container {
  flex: 1;
  overflow-y: auto;
  padding-right: 4px;
}

/* 列表容器滚动条样式 */
.dashboard-widget-list-container::-webkit-scrollbar {
  width: 6px;
}

.dashboard-widget-list-container::-webkit-scrollbar-thumb {
  background: #ccc;
  border-radius: 3px;
}

.dashboard-widget-list-container::-webkit-scrollbar-track {
  background: transparent;
}

/* --------------------------------------------------------------------------
   任务列表行 // 单个任务项的行容器
   -------------------------------------------------------------------------- */
.dashboard-widget-mission-list-row {
  /* 使用全局颜色变量 */
  background: #1a1a1a; /* 深色背景 */
  color: #eee;
  margin-bottom: 8px;
  display: flex;
  align-items: center; /* 单行对齐 */
  cursor: pointer;
  border-radius: 2px;
  overflow: hidden;
  transition: all 0.2s;
  /* 使用全局阴影变量 */
  box-shadow: var(--shadow-light);
  min-height: 40px; /* 单行高度 */
  /* 使用全局边框宽度变量 */
  border: var(--border-width) solid #333;
}

/* 任务列表行悬停效果 */
.dashboard-widget-mission-list-row:hover {
  transform: translateX(2px);
  /* 使用全局阴影变量 */
  box-shadow: var(--shadow-normal);
  border-color: #555;
}

/* --------------------------------------------------------------------------
   装饰条 // 任务行左侧的彩色装饰条
   -------------------------------------------------------------------------- */
.dashboard-widget-row-decor-bar {
  width: 6px;
  /* 使用全局品牌色变量创建渐变 */
  background: linear-gradient(
    to bottom,
    var(--avionics-mustard) 33%,
    var(--oxidized-sage) 33%,
    var(--oxidized-sage) 66%,
    var(--alarm-burgundy) 66%
  );
  align-self: stretch; /* 拉伸到全高 */
  flex-shrink: 0;
}

/* --------------------------------------------------------------------------
   行主内容区域 // 包含日期、分隔符和任务名称
   -------------------------------------------------------------------------- */
.dashboard-widget-row-main-content {
  flex: 1;
  padding: 0 12px;
  display: flex;
  align-items: center; /* 水平对齐 */
  min-width: 0; /* 启用文本截断 */
  height: 100%;
}

/* --------------------------------------------------------------------------
   行日期 // 任务到期日期显示
   -------------------------------------------------------------------------- */
.dashboard-widget-row-date {
  /* 使用全局品牌警告色变量 */
  color: var(--avionics-mustard);
  font-weight: 900;
  font-size: 14px;
  letter-spacing: 0.5px;
  flex-shrink: 0; /* 日期不收缩 */
}

/* --------------------------------------------------------------------------
   行分隔符 // 日期和任务名称之间的分隔符
   -------------------------------------------------------------------------- */
.dashboard-widget-row-dots {
  color: #555;
  margin: 0 8px;
  font-size: 10px;
  flex-shrink: 0;
}

/* --------------------------------------------------------------------------
   行任务名称 // 任务名称文字
   -------------------------------------------------------------------------- */
.dashboard-widget-row-name {
  /* 使用全局颜色变量 */
  color: var(--color-white);
  font-size: 14px;
  font-weight: 700;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  letter-spacing: 0.2px;
  flex: 1; /* 占据剩余空间 */
  /* 使用全局字体族变量 */
  font-family: var(--font-family);
  text-align: left;
}

/* --------------------------------------------------------------------------
   行右侧状态区域 // 包含状态标签和任务组信息
   -------------------------------------------------------------------------- */
.dashboard-widget-row-right-status {
  padding: 12px 0 12px;
  display: flex;
  flex-direction: row; /* 水平布局 */
  align-items: center;
  justify-content: flex-end;
  background: rgba(255, 255, 255, 0.02);
  /* border-left: var(--border-width) solid #333; */
  min-width: 80px;
  height: 100%; /* 全高 */
  align-self: stretch;
}

/* --------------------------------------------------------------------------
   状态标签 // 任务状态标签（药丸形状）
   -------------------------------------------------------------------------- */
.dashboard-widget-status-pill {
  font-size: 12px;
  font-weight: 900;
  padding: 2px 6px;
  border-radius: 4px; /* 特殊圆角值 */
  text-transform: uppercase;
  letter-spacing: 1px;
  margin-right: 8px; /* 状态和任务组之间的间距 */
  margin-bottom: 0;
  flex-shrink: 0;
}



/* 进行中状态 */
.dashboard-widget-status-pill.process {
  /* 使用全局品牌成功色变量 */
  background: var(--oxidized-sage);
  color: var(--color-white);
}

/* 待处理状态 */
.dashboard-widget-status-pill.pending {
  background: #555;
  color: #ccc;
}

/* 超时状态 */
.dashboard-widget-status-pill.timeout {
  /* 使用全局品牌危险色变量 */
  background: var(--alarm-burgundy);
  color: var(--color-white);
}

/* --------------------------------------------------------------------------
   任务组信息 // 显示任务所属的任务组
   -------------------------------------------------------------------------- */
.dashboard-widget-group-info {
  display: flex;
  align-items: center;
  /* color: #888; */
  /* 使用全局字体族变量 */
  font-family: var(--font-family);
  font-size: 10px;
  flex-shrink: 0;
}

/* --------------------------------------------------------------------------
   任务组图标 // 任务组名称前的图标
   -------------------------------------------------------------------------- */
.dashboard-widget-group-icon {
  background: #333;
  color: var(--color-white);
  width: 16px;
  height: 16px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 50%;
  margin-right: 4px;
  font-weight: bold;
}

/* --------------------------------------------------------------------------
   任务组名称 // 任务组名称文字
   -------------------------------------------------------------------------- */
.dashboard-widget-group-name {
  max-width: 60px;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

/* ==========================================================================
   超时状态样式 // 任务超时时的特殊样式
   ========================================================================== */

/* 超时任务行 */
.dashboard-widget-mission-list-row.dashboard-widget-is-timeout {
  background: #A0522D; /* 深棕色/橙棕色 */
  border-color: #8B4513;
}

/* 超时任务行的日期 */
.dashboard-widget-mission-list-row.dashboard-widget-is-timeout .dashboard-widget-row-date {
  color: var(--color-white);
  text-shadow: 1px 1px 0 rgba(0, 0, 0, 0.2);
}

/* 超时任务行的名称 */
.dashboard-widget-mission-list-row.dashboard-widget-is-timeout .dashboard-widget-row-name {
  color: var(--color-white);
  text-shadow: 1px 1px 0 rgba(0, 0, 0, 0.2);
}

/* 超时任务行的分隔符和任务组信息 */
.dashboard-widget-mission-list-row.dashboard-widget-is-timeout .dashboard-widget-row-dots,
.dashboard-widget-mission-list-row.dashboard-widget-is-timeout .dashboard-widget-group-info {
  color: rgba(255, 255, 255, 0.7);
}

/* 超时任务行的右侧状态区域 */
.dashboard-widget-mission-list-row.dashboard-widget-is-timeout .dashboard-widget-row-right-status {
  background: rgba(0, 0, 0, 0.1);
  border-left-color: rgba(0, 0, 0, 0.1);
}

/* 超时任务行的任务组图标 */
.dashboard-widget-mission-list-row.dashboard-widget-is-timeout .dashboard-widget-group-icon {
  background: rgba(0, 0, 0, 0.2);
}

/* 超时任务行的超时状态标签 */
.dashboard-widget-mission-list-row.dashboard-widget-is-timeout .dashboard-widget-status-pill.dashboard-widget-timeout {
  background: var(--color-white);
  color: #A0522D;
  /* 使用全局阴影变量 */
  box-shadow: var(--shadow-light);
}

/* ==========================================================================
   图表类型样式 // 图表组件相关样式
   ========================================================================== */

/* --------------------------------------------------------------------------
   图表容器 // ECharts 图表的容器
   -------------------------------------------------------------------------- */
.dashboard-widget-chart-container {
  flex: 1;
  width: 100%;
  height: 100%;
  min-height: 0;
  position: relative;
  background: transparent;
}

/* --------------------------------------------------------------------------
   ECharts 图表盒子 // ECharts 实例的 DOM 容器
   -------------------------------------------------------------------------- */
.dashboard-widget-echart-box {
  width: 100%;
  height: 100%;
}

/* ==========================================================================
   空状态样式 // 无数据时的显示样式
   ========================================================================== */

/* --------------------------------------------------------------------------
   复古空状态 // 无数据时的空状态容器
   -------------------------------------------------------------------------- */
.dashboard-widget-retro-empty {
  flex: 1;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  color: #ccc;
  min-height: 100px;
}

/* --------------------------------------------------------------------------
   空状态图标 // 空状态的图标
   -------------------------------------------------------------------------- */
.dashboard-widget-empty-icon {
  font-size: 48px;
  margin-bottom: 12px;
  color: #ddd;
}

/* --------------------------------------------------------------------------
   空状态文字 // 空状态的提示文字
   -------------------------------------------------------------------------- */
.dashboard-widget-empty-text {
  font-weight: 900;
  letter-spacing: 2px;
  color: #ccc;
  /* 使用全局字体族变量 */
  font-family: var(--font-family);
}

/* ==========================================================================
   配置按钮样式 // 组件配置按钮相关样式
   ========================================================================== */

/* --------------------------------------------------------------------------
   组件配置按钮 // 打开配置对话框的按钮
   -------------------------------------------------------------------------- */
.dashboard-widget-widget-config-btn {
  cursor: pointer;
  margin-left: 8px;
  opacity: 0.3;
  transition: opacity 0.2s;
  font-size: 14px;
  /* 使用全局颜色变量 */
  color: #333;
}

/* 组件悬停时显示配置按钮 */
.dashboard-widget-mission-widget:hover .dashboard-widget-widget-config-btn {
  opacity: 1;
}

/* ==========================================================================
   底部装饰条样式 // 组件底部的三色装饰条
   ========================================================================== */

/* --------------------------------------------------------------------------
   底部装饰条 // 组件底部的装饰条容器
   -------------------------------------------------------------------------- */
.dashboard-widget-bottom-bar {
  position: absolute;
  bottom: 0;
  left: 0;
  width: 100%;
  height: 6px;
  display: flex;
}

/* 装饰条段 */
.dashboard-widget-bar-seg {
  flex: 1;
}

/* 芥末黄色段 */
.dashboard-widget-bar-seg.dashboard-widget-seg-mustard {
  /* 使用全局品牌警告色变量 */
  background: var(--avionics-mustard);
  flex: 0.3;
}

/* 鼠尾草绿色段 */
.dashboard-widget-bar-seg.dashboard-widget-seg-sage {
  /* 使用全局品牌成功色变量 */
  background: var(--oxidized-sage);
  flex: 0.4;
}

/* 酒红色段 */
.dashboard-widget-bar-seg.dashboard-widget-seg-burgundy {
  /* 使用全局品牌危险色变量 */
  background: var(--alarm-burgundy);
  flex: 1;
}

/* ==========================================================================
   已废弃样式 // 以下样式已废弃，保留以防引用
   ========================================================================== */

/* 隐藏旧样式 */
.dashboard-widget-retro-card {
  display: none;
}

.dashboard-widget-retro-list-row {
  display: none;
}
